1.NSNotification不是线程安全的，所注册的selector会在post消息的线程执行。比如在线程1中post了一个消息，那么所有接受该消息的selector都会在线程1中执行。
2.KVO也不是线程安全的。

不安全性体现在：
如果接受消息的对象在一个线程A中正在释放并且还没有解除消息监听，此时在另一个线程B中post该消息，那么消息监听selector会在线程B中得到执行，由于对象正在销毁，那么所有对该对象的访问都可能会引起问题。
解决方法：
1.在同一个线程中post消息和处理消息。可以在线程B中通过performSelectorOnMainThread等方法，在主线程中post消息。同时在主线程中处理该消息。
2.在线程A中设置一个全局的单例对象，所有的消息先派发给他，然后由他在主线程中进行转发。